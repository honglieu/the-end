@import 'function';
@import 'function';
:host {
  ::ng-deep {
    trudi-form-control:not(:last-child) .trudi-form-control-wrapper {
      border-bottom: unset !important;
    }
    trudi-form-control:has(:last-child) .trudi-form-control-wrapper {
      border-bottom: 1px solid var(--border-neutral-dark);
      margin-bottom: 0px;
    }
    .receiver-wrapper:has(.ccBtn):has(.bccBtn) {
      .ng-spinner-loader {
        margin-right: 106px !important;
      }
    }
    .ng-value-container {
      padding-right: 106px !important;
    }
    .bcc-receiver-wrapper:has(.ccBtn),
    .cc-receiver-wrapper:has(.bccBtn) {
      .ng-spinner-loader {
        margin-right: 50px !important;
      }
    }
    .ng-value-container {
      padding-right: 50px !important;
    }
    .invalid-receiver {
      color: var(--fg-danger);
    }
  }
}

.to-preview {
  display: flex;
  align-items: center;
  cursor: text;
  border-radius: 8px;
  background: var(--gray-50);

  &:hover {
    background: var(--gray-100);
    box-shadow: inset 0 0 1px var(--border-neutral-dark);
  }

  select-receiver-preview {
    width: 100%;
  }
  &:focus-visible {
    box-shadow: inset 0px 0px 0px 1.5px var(--brand-500);
  }
}

::ng-deep .select-receiver-container {
  .select-receiver-content {
    border: 1px solid transparent;
    border-radius: 8px;

    &:has(input:focus) {
      box-shadow: 0px 0px 0px 2px var(--brand-200);
      border-color: var(--border-brand);
    }

    &-invalid {
      box-shadow: 0px 0px 0px 2px #fda29b !important;
      border-color: var(--border-danger) !important;
    }

    &-focused {
      background-color: var(--gray-50);

      &:hover {
        background: var(--gray-100);
        box-shadow: inset 0px 0px 1px var(--border-neutral-dark);
      }
    }

    &:has(input:focus) {
      &.select-receiver-content-focused {
        background-color: transparent;
      }
    }

    &:not(:has(.select-receiver-content-bcc)) {
      .select-receiver-content-cc {
        border-top: 1px solid var(--border-neutral-dark) !important;
      }
    }

    &:has(.select-receiver-content-bcc) {
      .select-receiver-content-cc {
        border-top: 1px solid var(--border-neutral-dark) !important;
        border-bottom: 1px solid var(--border-neutral-dark) !important;
      }
    }

    select-receiver {
      ng-select {
        .ng-select-container {
          box-shadow: unset;
          background-color: unset;
          &:hover {
            box-shadow: unset;
          }

          .select-item-label {
            background-color: var(--bg-base);
          }
        }
      }

      .ng-select:hover:not(.ng-select-focused):not(.ng-select-disabled)
        > .ng-select-container,
      .ng-select.ng-select-focused:not(.ng-select-opened)
        > .ng-select-container {
        background: unset !important;
        box-shadow: unset !important;
      }
    }
  }

  .preview-label {
    margin-bottom: 0;
    border: unset;
    max-height: 128px;
    padding: 10px 12px;
    overflow-y: auto;
    .function-btn {
      border-radius: 6px;
      border: 1px solid var(--border-neutral-dark, #d8dcdf);
      background: var(--bg-base, #fff);
      padding: 0px 8px;
      @include fontSetup(
        var(--fg-neutral-strongest) !important,
        14px,
        20px,
        normal,
        400
      );
    }
  }
}
